<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Gerado por IA | Inove Dev</title>
    <!-- Meta tags para evitar cache e garantir que o robô do LoremFlickr suma -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- Google Fonts Placeholder (Será preenchido via JS) -->
    <link id="dynamic-fonts" rel="stylesheet" href="">
    
    <style>
        :root { 
            --primary: #0d6efd; 
            --primary-rgb: 13, 110, 253; /* Calculado via JS */
            --secondary: #6c757d; 
            --accent: #0dcaf0;
            --bg-page: #f8f9fa;
            --text-main: #212529;
            --card-bg: #ffffff;
            --font-heading: 'Raleway', sans-serif;
            --font-body: 'Open Sans', sans-serif;
            --border-radius: 15px;
            --shadow-sm: 0 5px 15px rgba(0,0,0,0.05);
            --shadow-lg: 0 15px 30px rgba(0,0,0,0.1);
        }
        
        body { font-family: var(--font-body); background-color: var(--bg-page); color: var(--text-main); overflow-x: hidden; line-height: 1.7; }
        h1, h2, h3, h4, h5 { font-family: var(--font-heading); font-weight: 700; }
        
        /* Navbar Craftivo Style */
        .navbar {
            background: var(--card-bg) !important;
            box-shadow: 0px 2px 15px rgba(0,0,0,0.1);
            padding: 15px 0;
        }
        .navbar-brand { color: #222 !important; font-size: 1.8rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; }
        .nav-link { color: #444 !important; font-weight: 600; margin-left: 15px; font-family: var(--font-heading); text-transform: uppercase; font-size: 0.9rem; }
        .nav-link:hover { color: var(--primary) !important; }

        /* Section Titles (Craftivo Signature) */
        .section-title { text-align: center; padding-bottom: 30px; margin-bottom: 30px; }
        .section-title h2 { 
            font-size: 32px; font-weight: bold; text-transform: uppercase; 
            margin-bottom: 20px; padding-bottom: 20px; position: relative; color: var(--text-main); 
        }
        .section-title h2::before { 
            content: ''; position: absolute; display: block; width: 120px; height: 1px; 
            background: #ddd; bottom: 1px; left: calc(50% - 60px); 
        }
        .section-title h2::after { 
            content: ''; position: absolute; display: block; width: 40px; height: 3px; 
            background: var(--primary); bottom: 0; left: calc(50% - 20px); 
        }
        .section-title p { margin-bottom: 0; color: #777; font-style: italic; }

        /* Hero Section */
        #hero {
            min-height: 100vh;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            position: relative;
            color: #fff;
            background-attachment: fixed;
        }
        .hero-overlay {
            content: ''; position: absolute; top:0; left:0; right:0; bottom:0;
            background: rgba(0, 0, 0, 0.6); /* Darker overlay for text contrast */
            z-index: 1;
        }
        #hero .container { position: relative; z-index: 2; }
        #hero h1 { font-size: 48px; font-weight: 700; line-height: 1.2; margin-bottom: 20px; }
        #hero p { font-size: 20px; margin-bottom: 30px; color: rgba(255,255,255,0.9); }
        
        /* Buttons */
        .btn-custom {
            background: transparent; color: #fff;
            padding: 12px 40px; 
            border-radius: 50px; 
            border: 2px solid var(--primary);
            transition: 0.3s; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;
            font-family: var(--font-heading);
        }
        .btn-custom:hover { background: var(--primary); color: #fff; }
        
        /* Cards & Boxes */
        .service-box {
            padding: 40px 30px; text-align: center;
            border-radius: 8px;
            background: var(--card-bg);
            box-shadow: 0 10px 29px 0 rgba(68, 88, 144, 0.1);
            height: 100%; transition: 0.3s;
            border: none;
        }
        .service-box:hover { transform: translateY(-5px); }
        
        .service-icon { 
            display: inline-block;
            width: 60px; height: 60px; line-height: 60px;
            background: var(--bg-page); /* Contraste com o card */
            color: var(--primary);
            font-size: 32px; margin-bottom: 20px; transition: 0.3s;
        }
        .service-box:hover .service-icon { color: var(--accent); }

        /* Portfolio */
        .portfolio-item { position: relative; overflow: hidden; border-radius: 8px; margin-bottom: 30px; }
        .portfolio-item img { transition: all 0.3s; width: 100%; }
        .portfolio-item:hover img { transform: scale(1.1); }
        .portfolio-info {
            position: absolute; left: 0; bottom: 0; right: 0;
            background: rgba(0,0,0,0.8); padding: 15px;
            transform: translateY(100%); transition: 0.3s;
            text-align: center;
        }
        .portfolio-item:hover .portfolio-info { transform: translateY(0); }
        .portfolio-info h4 { color: #fff; margin: 0; font-size: 18px; }
        .portfolio-info p { color: #ddd; margin: 0; font-size: 14px; }

        .ai-badge {
            position: fixed; bottom: 20px; right: 20px;
            background: #0D1B2A; color: #fff; padding: 15px;
            border-radius: var(--border-radius); z-index: 9999;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            max-width: 300px;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#" id="navBrand">Logo</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto" id="navbarNav">
                    <li class="nav-item"><a class="nav-link" href="#hero">Início</a></li>
                    <li class="nav-item"><a class="nav-link" href="#about">Sobre</a></li>
                    <li class="nav-item"><a class="nav-link" href="#services">Serviços</a></li>
                    <li class="nav-item"><a class="nav-link" href="#portfolio">Portfólio</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contato</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="hero">
        <div class="hero-overlay"></div>
        <div class="container text-center">
            <div class="row justify-content-center">
                <div class="col-lg-10" data-aos="fade-up" data-aos-duration="1000">
                    <h1 class="display-2 mb-4" id="heroTitle">Carregando...</h1>
                    <p class="lead mb-5 fs-3" id="heroSubtitle">Aguarde enquanto a IA constrói seu site.</p>
                    <a href="#contact" class="btn-custom" id="heroCTA">Saiba Mais</a>
                </div>
            </div>
        </div>
    </section>

    <section id="about" class="py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6" data-aos="fade-right">
                    <img src="" id="aboutImg" class="img-fluid rounded shadow" alt="Sobre">
                </div>
                <div class="col-lg-6 mt-4 mt-lg-0" data-aos="fade-left">
                    <h5 class="text-uppercase" style="color: var(--accent);">Nossa História</h5>
                    <h2 class="mb-4" id="aboutTitle">Sobre Nós</h2>
                    <p class="lead" id="aboutText">...</p>
                    
                    <div class="row mt-5" id="statsGrid">
                        <!-- Stats via JS -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="py-5">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Nossos Serviços</h2>
                <p>Soluções completas desenvolvidas para impulsionar o seu negócio.</p>
            </div>
            <div class="row g-4" id="servicesGrid">
                <!-- Inserido via JS -->
            </div>
        </div>
    </section>

    <!-- Portfolio Section (Novo) -->
    <section id="portfolio" class="py-5">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Portfólio</h2>
                <p>Confira alguns dos nossos projetos recentes.</p>
            </div>
            <div class="row g-4" id="portfolioGrid">
                <!-- Inserido via JS -->
            </div>
        </div>
    </section>

    <section id="features" class="py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 order-2 order-lg-1" data-aos="fade-up">
                    <h2 class="mb-4">Por que nos escolher?</h2>
                    <div class="row g-4" id="featuresGrid">
                        <!-- Features via JS -->
                    </div>
                </div>
                <div class="col-lg-6 order-1 order-lg-2 mb-4 mb-lg-0" data-aos="zoom-in">
                    <img src="" id="featureImg" class="img-fluid rounded shadow-lg" alt="Destaque">
                </div>
            </div>
        </div>
    </section>

    <section id="testimonials" class="py-5">
        <div class="container">
            <div class="section-title" data-aos="fade-down">
                <h2>O que dizem nossos clientes</h2>
            </div>
            <div class="row justify-content-center" id="testimonialsGrid">
                <!-- Testimonials via JS -->
            </div>
        </div>
    </section>

    <section id="contact" class="py-5">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Contato</h2>
                <p>Estamos prontos para atender você.</p>
            </div>
            <div class="row justify-content-center text-center" data-aos="fade-up">
                <div class="col-lg-8">
                    
                    <div class="row g-4 mb-5">
                        <div class="col-md-4" data-aos="flip-left" data-aos-delay="100">
                            <div class="p-4 rounded shadow-sm h-100" style="background: var(--card-bg);">
                                <i class="bi bi-geo-alt fs-2" style="color: var(--accent);"></i>
                            <h5 class="mt-2">Endereço</h5>
                            <p id="contactAddress">...</p>
                            </div>
                        </div>
                        <div class="col-md-4" data-aos="flip-left" data-aos-delay="200">
                            <div class="p-4 rounded shadow-sm h-100" style="background: var(--card-bg);">
                                <i class="bi bi-envelope fs-2" style="color: var(--accent);"></i>
                            <h5 class="mt-2">Email</h5>
                            <p id="contactEmail">...</p>
                            </div>
                        </div>
                        <div class="col-md-4" data-aos="flip-left" data-aos-delay="300">
                            <div class="p-4 rounded shadow-sm h-100" style="background: var(--card-bg);">
                                <i class="bi bi-telephone fs-2" style="color: var(--accent);"></i>
                            <h5 class="mt-2">Telefone</h5>
                            <p id="contactPhone">...</p>
                            </div>
                        </div>
                    </div>

                    <a href="#" class="btn-custom" id="contactCTA">Falar no WhatsApp</a>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-5 text-white" style="background-color: #1a1a1a;">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h3 id="footerBrand" class="fw-bold mb-3">Logo</h3>
                    <p class="text-secondary">Criado com tecnologia de ponta para impulsionar seu negócio.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="mb-3">Links Rápidos</h5>
                    <ul class="list-unstyled">
                        <li><a href="#hero" class="text-secondary text-decoration-none">Início</a></li>
                        <li><a href="#about" class="text-secondary text-decoration-none">Sobre</a></li>
                        <li><a href="#services" class="text-secondary text-decoration-none">Serviços</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="mb-3">Legal</h5>
                    <p class="text-secondary mb-0">&copy; <span id="footerYear"></span> Todos os direitos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <div class="ai-badge">
        <small>Gerado por Inove AI</small><br>
        <p class="mb-2" style="font-size: 11px; opacity: 0.7; line-height: 1.3;">Nota: As imagens são selecionadas automaticamente baseadas no tema.</p>
        <a href="https://wa.me/5581989035561" class="btn btn-success btn-sm mt-2 w-100">Contratar Site Real</a>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const data = JSON.parse(localStorage.getItem('aiWebsiteData_v3'));
            if (!data) {
                alert('Nenhum dado encontrado. Volte e gere novamente.');
                return;
            }

            // Renderizar o site diretamente (Universal Template Engine)
            renderSite(data);
        });

        function renderSite(data) {
            // 1. Configurar Cores e Variáveis CSS
            if (data.colors) {
                const root = document.documentElement;
                
                // Função de Segurança: Calcula contraste automaticamente (YIQ)
                // Se o fundo for escuro, retorna branco. Se for claro, retorna preto.
                const getContrastYIQ = (hexcolor) => {
                    if (!hexcolor) return '#212529';
                    hexcolor = hexcolor.replace('#', '');
                    var r = parseInt(hexcolor.substr(0,2),16);
                    var g = parseInt(hexcolor.substr(2,2),16);
                    var b = parseInt(hexcolor.substr(4,2),16);
                    var yiq = ((r*299)+(g*587)+(b*114))/1000;
                    return (yiq >= 128) ? '#212529' : '#ffffff';
                }

                root.style.setProperty('--primary', data.colors.primary);
                root.style.setProperty('--secondary', data.colors.secondary);
                root.style.setProperty('--accent', data.colors.accent || data.colors.primary);
                root.style.setProperty('--bg-page', data.colors.background || '#f8f9fa');
                
                // Força a cor do texto baseada no cálculo matemático de contraste, ignorando a IA se necessário
                const safeTextColor = getContrastYIQ(data.colors.background || '#f8f9fa');
                root.style.setProperty('--text-main', safeTextColor);
                
                root.style.setProperty('--card-bg', data.colors.card_bg || '#ffffff');
            }

            // 2. Carregar Fontes do Google
            if (data.fonts) {
                const fontHeading = data.fonts.heading || 'Raleway';
                const fontBody = data.fonts.body || 'Open Sans';
                const fontUrl = `https://fonts.googleapis.com/css2?family=${fontHeading.replace(/ /g, '+')}:wght@300;400;600;700&family=${fontBody.replace(/ /g, '+')}:wght@300;400;600&display=swap`;
                document.getElementById('dynamic-fonts').href = fontUrl;
                
                document.documentElement.style.setProperty('--font-heading', `'${fontHeading}', sans-serif`);
                document.documentElement.style.setProperty('--font-body', `'${fontBody}', sans-serif`);
            }

            // 3. Injetar CSS Personalizado (IA)
            if (data.customCss) {
                const style = document.createElement('style');
                style.innerHTML = data.customCss;
                document.head.appendChild(style);
            }

            // 4. Preencher Conteúdo de Texto
            const elements = {
                'brandName': data.brandName,
                'navBrand': data.brandName,
                'footerBrand': data.brandName,
                'heroTitle': data.hero?.title,
                'heroSubtitle': data.hero?.subtitle,
                'heroCTA': data.hero?.cta,
                'aboutTitle': data.about?.title,
                'aboutText': data.about?.text,
                'contactAddress': data.contact?.address,
                'contactEmail': data.contact?.email,
                'contactPhone': data.contact?.phone,
                'contactCTA': data.contact?.cta_text,
                'footerYear': new Date().getFullYear()
            };

            Object.keys(elements).forEach(id => {
                const el = document.getElementById(id);
                if (el && elements[id]) el.textContent = elements[id];
            });

            // 5. Layout do Hero (Ajuste Estrutural)
            const heroSection = document.getElementById('hero');
            const heroContainer = heroSection.querySelector('.container');
            
            if (data.layout?.heroStyle === 'split-left' || data.layout?.heroStyle === 'split-right') {
                heroContainer.innerHTML = `
                    <div class="row align-items-center">
                        <div class="col-lg-6 ${data.layout.heroStyle === 'split-right' ? 'order-lg-2' : ''}">
                            <img src="${data.images?.hero}" class="img-fluid rounded shadow-lg" alt="Hero Image" data-aos="zoom-in">
                        </div>
                        <div class="col-lg-6 ${data.layout.heroStyle === 'split-right' ? 'order-lg-1' : ''}">
                            <h1 class="display-3 fw-bold mb-4">${data.hero?.title}</h1>
                            <p class="lead mb-4">${data.hero?.subtitle}</p>
                            <a href="#contact" class="btn-custom">${data.hero?.cta || 'Saiba Mais'}</a>
                        </div>
                    </div>
                `;
                // Remove overlay for split layout to make it cleaner
                const overlay = heroSection.querySelector('.hero-overlay');
                if(overlay) overlay.style.display = 'none';
                heroSection.style.backgroundImage = 'none';
                heroSection.style.backgroundColor = data.colors?.background || '#f8f9fa';
                heroSection.style.color = data.colors?.text || '#333';
            } else {
                // Default Center
                if (data.images?.hero) {
                    heroSection.style.backgroundImage = `url(${data.images.hero})`;
                }
            }

            // 6. Imagens Gerais
            if (data.images) {
                const imgMap = {
                    'aboutImg': data.images.about,
                    'featureImg': data.images.feature
                };
                Object.keys(imgMap).forEach(id => {
                    const el = document.getElementById(id);
                    if (el && imgMap[id]) {
                        el.src = imgMap[id];
                        // Fallback de segurança: Se a imagem falhar, carrega um placeholder profissional
                        el.onerror = function() {
                            this.onerror = null;
                            this.src = 'https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=800&q=80';
                            this.alt = 'Imagem indisponível';
                        };
                    }
                });
            }

            // 7. Renderizar Listas (Serviços, Features, Portfolio, Testimonials)
            if (data.services) {
                const servicesContainer = document.querySelector('#services .row') || document.getElementById('servicesGrid');
                if (servicesContainer) {
                    servicesContainer.innerHTML = '';
                    data.services.forEach(service => {
                        const col = document.createElement('div');
                        col.className = 'col-lg-4 col-md-6 d-flex align-items-stretch mb-4';
                        col.setAttribute('data-aos', 'fade-up');
                        col.innerHTML = `
                            <div class="service-box w-100">
                                <div class="service-icon"><i class="bi ${service.icon || 'bi-check-circle'}"></i></div>
                                <h4>${service.title}</h4>
                                <p class="text-muted">${service.desc}</p>
                            </div>
                        `;
                        servicesContainer.appendChild(col);
                    });
                }
            }

            if (data.features) {
                const featuresGrid = document.getElementById('featuresGrid');
                if (featuresGrid) {
                    featuresGrid.innerHTML = '';
                    data.features.forEach(feat => {
                        featuresGrid.innerHTML += `
                            <div class="col-md-6">
                                <div class="d-flex align-items-start">
                                    <i class="bi ${feat.icon || 'bi-check-circle-fill'} fs-4 me-3" style="color: var(--primary);"></i>
                                    <div>
                                        <h5 class="fw-bold">${feat.title}</h5>
                                        <p class="small text-muted">${feat.desc}</p>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                }
            }

            if (data.portfolio) {
                const portfolioGrid = document.getElementById('portfolioGrid');
                if (portfolioGrid) {
                    portfolioGrid.innerHTML = '';
                    data.portfolio.forEach((item, index) => {
                        // Generate a random image for portfolio if not provided specifically
                        const pImg = data.images.portfolio ? data.images.portfolio + `&i=${index}` : `https://source.unsplash.com/random/800x600?${data.niche},${index}`;
                        
                        portfolioGrid.innerHTML += `
                            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="${index * 100}">
                                <div class="portfolio-item shadow">
                                    <img src="${pImg}" class="img-fluid" alt="${item.title}" onerror="this.src='https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80'">
                                    <div class="portfolio-info">
                                        <h4>${item.title}</h4>
                                        <p>${item.category}</p>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                }
            }

            if (data.testimonials) {
                const testGrid = document.getElementById('testimonialsGrid');
                if (testGrid) {
                    testGrid.innerHTML = '';
                    data.testimonials.forEach(t => {
                        testGrid.innerHTML += `
                            <div class="col-md-4 mb-4" data-aos="fade-up">
                                <div class="card border-0 shadow-sm h-100 p-4 text-center" style="background: var(--card-bg);">
                                    <div class="mb-3 text-warning">
                                        <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                                    </div>
                                    <p class="fst-italic">"${t.text}"</p>
                                    <h6 class="fw-bold mt-3 mb-0">${t.name}</h6>
                                    <small class="text-muted">${t.role || 'Cliente'}</small>
                                </div>
                            </div>
                        `;
                    });
                }
            }

            if (data.about?.stats) {
                const statsGrid = document.getElementById('statsGrid');
                if (statsGrid) {
                    statsGrid.innerHTML = '';
                    data.about.stats.forEach(stat => {
                        statsGrid.innerHTML += `
                            <div class="col-4 text-center">
                                <h3 class="fw-bold display-6" style="color: var(--primary);">${stat.number}</h3>
                                <p class="small text-uppercase fw-bold text-muted">${stat.label}</p>
                            </div>
                        `;
                    });
                }
            }

            // 8. Inicializar Animações
            if (typeof AOS !== 'undefined') {
                AOS.init();
            }
        }
    </script>
</body>
</html>